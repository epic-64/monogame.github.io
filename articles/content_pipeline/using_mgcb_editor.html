<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Using MGCB Editor | MonoGame Framework ">

      <!-- HTML Meta Tags -->
      <title>Using MGCB Editor | MonoGame Framework </title>
      <meta name="description" content="Learn how to use the MGCB Editor to organize and build content for use with MonoGame.">

      <!-- Facebook Meta Tags -->
      <meta name="og:url" content="https://monogame.github.io/articles/content_pipeline/using_mgcb_editor.html"><meta name="og:type" content="website">
      <meta name="og:title" content="Using MGCB Editor | MonoGame Framework ">
      <meta name="og:description" content="Learn how to use the MGCB Editor to organize and build content for use with MonoGame.">
      <meta name="og:image" content="https://monogame.github.io/images/monogametitle.png">

      <!-- Twtiter Meta Tags -->
      <meta name="twitter:card" content="summary_large_image">
      <meta property="twitter:domain" content="monogame.github.io">
      <meta property="twitter:url" content="https://monogame.github.io/articles/content_pipeline/using_mgcb_editor.html">
      <meta name="twitter:title" content="Using MGCB Editor | MonoGame Framework ">
      <meta name="twitter:description" content="Learn how to use the MGCB Editor to organize and build content for use with MonoGame.">
      <meta name="twitter:image" content="https://monogame.github.io/images/monogametitle.png">

      <link rel="icon" href="../../images/favicon.png">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="../../toc.html">
      <meta name="docfx:tocrel" content="../toc.html">
      
      
      
      
      <meta name="docfx:docurl" content="https://github.com/MonoGame/monogame.github.io/blob/main/articles/content_pipeline/using_mgcb_editor.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
  </head>

  <script type="module">
    import options from './../../public/main.js'
    import { init } from './../../public/docfx.min.js'
    init(options)
  </script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../index.html">
            <img id="logo" class="svg" src="../../images/monogametitle.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="using-mgcb-editor">Using MGCB Editor</h1>

<p>The <a href="../tools/mgcb_editor.html">MGCB Editor</a> is used to organize and build content for use with MonoGame. It is accessed by double-clicking a &quot;<strong>.mgcb</strong>&quot; file from within the Visual Studio solution explorer (providing that you installed <a href="/Documentation/articles/getting_started/1_setting_up_your_development_environment_windows.md">MonoGame's Visual Studio extension</a>).</p>
<p>Alternatively, you can build it <a href="https://github.com/MonoGame/MonoGame/tree/develop/Tools/MonoGame.Content.Builder.Editor">directly from source</a> if needed.</p>
<h2 id="create-a-project">Create A Project</h2>
<p>To start a new project just select “New...” from the “File” menu.</p>
<p><img src="images/mgcb_new.png" alt="MGCB Editor new project"></p>
<p>This will give you a new empty project to add content to.</p>
<h2 id="importing-an-xna-contentproj-content-project">Importing an XNA (.contentproj) content project</h2>
<p>If you are starting from an existing XNA project, the MGCB Editor supports importing your existing <strong>.contentproj</strong>. Again you can access this from the “<strong>File</strong>” menu:</p>
<p><img src="images/mgcb_import.png" alt="MGCB Editor import XNA"></p>
<p>This creates a new project, adding all your content and content settings from the XNA project. If you happened to be using custom processors, you may need to edit the assembly references to link to the correct paths which we discuss next.</p>
<h2 id="project-settings">Project Settings</h2>
<p>You can edit the content project settings directly from the property grid editor after selecting the project node in the tree view:</p>
<p><img src="images/mgcb_project.png" alt="Project settings"></p>
<p>This is where you set up the folders for output, the platform to target, the assembly references for custom processors, etc.</p>
<blockquote>
<p>Note that currently, the MGCB Editor is not set up to support multiple target platforms. This means you may need to manage multiple content projects or manually change the target platform between builds. If you are using <code>MonoGame.Content.Builder.Task</code> to build content as part of building your project, the correct platform will automatically be targeted.</p>
</blockquote>
<h2 id="adding-content-items">Adding Content Items</h2>
<p>Once you have a project set up you can add content to it for building. You can do this from the “<strong>Edit</strong>” menu:</p>
<p><img src="images/mgcb_addexisting.png" alt="Edit menu"></p>
<p>Selecting “<strong>New Item...</strong>” will bring up the New Item dialog which displays a list of new items that can be created:</p>
<p><img src="images/mgcb_newitem.png" alt="New item"></p>
<p>When you select “<strong>Existing Item...</strong>”, you can select an existing item from disk to add to the content project.</p>
<h2 id="built-in-content-importers-and-processors">Built-in Content Importers and Processors</h2>
<p>MonoGame provides default <strong>Importers</strong> (File Read) and <strong>Processors</strong> (File Transform) methods for handling almost all standard content which is automatically selected for known content types. In most cases, you do not need to alter these settings when adding content. The lists below highlight the default configuration options for each file type.</p>
<blockquote>
<p>If you wish to create your own Importers and Processors for custom file types, please see the &quot;<a href="#custom-content-processors">Custom Content Processors</a>&quot; section.</p>
</blockquote>
<h2 id="file-types">File Types</h2>
<p>The MonoGame Content Builder (MGCB) pipeline supports many different file types within a content project, along with several default processing options for those files:</p>
<h3 id="images">Images</h3>
<p><img src="images/mgcb_image_properties.png" alt="Image Properties"></p>
<p>Images come in a variety of formats such as png or jpg, most of which are natively supported by the MonoGame content pipeline.</p>
<p>Additionally, the following options are configurable per image asset when imported:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ColorKeyColor</td>
<td>Background color used for transparency</td>
</tr>
<tr>
<td>ColorKeyEnabled</td>
<td>If enabled, any colors identified using the Color Key will be marked as transparent (Alpha 0). The default value is <strong>false</strong></td>
</tr>
<tr>
<td>GenerateMipmaps</td>
<td>If enabled, this will generate MipMaps for the selected texture. The default value is <strong>false</strong></td>
</tr>
<tr>
<td>MakeSquare</td>
<td>if enabled this will make best efforts to expand the image to a square. The default value is <strong>false</strong></td>
</tr>
<tr>
<td>PremultiplyAlpha</td>
<td>If enabled this will treat the selected texture as an Alpha Mask. The default value is <strong>false</strong></td>
</tr>
<tr>
<td>ResizeToPowerOfTwo</td>
<td>If enabled this will resize the image dimensions to the next largest power of 2 size, e.g. 128x128 or 512x512. The default value is <strong>false</strong></td>
</tr>
<tr>
<td>TextureFormat</td>
<td>Selected format of the Texture to process, e.g. raw Color, DXT. The default value is <strong>color</strong></td>
</tr>
</tbody>
</table>
<h3 id="audio">Audio</h3>
<p><img src="images/mgcb_audio_properties.png" alt="Image Properties"></p>
<p>MonoGame supports several audio formats to cope with a wide variety of audio needs, from Wav files for effects to MP3's for songs/background music. The type of audio you use will depend on the audio needs for your project.</p>
<p>Audio can be configured to use either the <strong>Sound Effect</strong> processor which imports audio as a <a class="xref" href="../../api/Microsoft.Xna.Framework.Audio.SoundEffect.html">SoundEffect</a> which is generally used for short and quick audio sounds. Alternatively, by selecting the <strong>Song</strong> processor, the audio will be imported as a <strong>Song</strong> which is used for long-running audio using the Media Player class.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>DebugMode</td>
<td>Depending on the setting, this will either leave the audio uncompressed (for speed) when debugging or optimized for a production build. The default value is <strong>false</strong></td>
</tr>
<tr>
<td>Quality</td>
<td>The quality of compression to be used when compiling the asset. The default value is <strong>best</strong></td>
</tr>
</tbody>
</table>
<h3 id="models">Models</h3>
<p><img src="images/mgcb_model_properties.png" alt="Image Properties"></p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ColorKeyColor</td>
<td>Background color used for transparency</td>
</tr>
<tr>
<td>ColorKeyEnabled</td>
<td>If enabled, any colors identified using the Color Key will be marked as transparent (Alpha 0). The default value is <strong>false</strong></td>
</tr>
<tr>
<td>DefaultEffect</td>
<td>The default effect class to apply to this model. The default value is <strong>BasicEffect</strong></td>
</tr>
<tr>
<td>GenerateMipmaps</td>
<td>If enabled, this will generate MipMaps for the selected texture. The default value is <strong>false</strong></td>
</tr>
<tr>
<td>GenerateTangentFrames</td>
<td>Generate model tangents for use in Normal Mapping. The default value is <strong>false</strong></td>
</tr>
<tr>
<td>PremultiplyTextureAlpha</td>
<td>If enabled this will treat the selected texture as an Alpha Mask. The default value is <strong>false</strong></td>
</tr>
<tr>
<td>PremultiplyVertexColors</td>
<td>If enabled this will treat the selected texture as a Vertex Color Mask. The default value is <strong>false</strong></td>
</tr>
<tr>
<td>ResizeTexturesToPowerOfTwo</td>
<td>If enabled this will resize the models texture(s) dimensions to the next largest power of 2 size, e.g. 128x128 or 512x512</td>
</tr>
<tr>
<td>RotationX</td>
<td>Default model X Axis Rotation–Number, in degrees of rotation. The default value is <strong>0</strong></td>
</tr>
<tr>
<td>RotationY</td>
<td>Default model Y Axis Rotation–Number, in degrees of rotation. The default value is <strong>0</strong></td>
</tr>
<tr>
<td>RotationZ</td>
<td>Default model Z Axis Rotation–Number, in degrees of rotation. The default value is <strong>0</strong></td>
</tr>
<tr>
<td>Scale</td>
<td>Default model scale. The default value is <strong>1.0f</strong></td>
</tr>
<tr>
<td>SwapWindingOrder</td>
<td>Boolean value indicating if the winding order is swapped. This is useful for models that appear to be drawn inside out. The default value is <strong>false</strong>.</td>
</tr>
<tr>
<td>TextureFormat</td>
<td>Selected format of the Texture to process, e.g. raw Color, DXT. The default value is <strong>compressed</strong></td>
</tr>
</tbody>
</table>
<h3 id="fonts"><a href="adding_ttf_fonts.html">Fonts</a></h3>
<p><img src="images/mgcb_font_properties.png" alt="Font Properties"></p>
<p>MonoGame uses a <strong>Font descriptor</strong> file to describe the type of font to import, the font in question needs to be installed in the machines Font library for it to enable the project to build, else this will result in a Font importer error.</p>
<blockquote>
<p>It is recommended you keep a copy of the Font file in the content folder for reference to avoid issues with missing Fonts, that way any developer on the project can re-add the Font to their machine when needed.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>PremultiplyAlpha</td>
<td>If enabled this will treat the font texture that is generated as an Alpha Mask. The default value is <strong>false</strong></td>
</tr>
<tr>
<td>TextureFormat</td>
<td>Selected format of the font Texture to process, e.g. raw Color, DXT. The default value is <strong>compressed</strong></td>
</tr>
</tbody>
</table>
<p>See the <a href="adding_ttf_fonts.html">TrueType fonts</a> section for more detail on working with Fonts. Additionally, check out the <a href="localization.html">Localization</a> section for details on working with managing translated text within your project using <a href="https://msdn.microsoft.com/en-us/library/aa992030(v=vs.100).aspx">resx</a> files.</p>
<h3 id="effects"><a href="custom_effects.html">Effects</a></h3>
<p><img src="images/mgcb_effect_properties.png" alt="Effect Properties"></p>
<p>Effects in MonoGame are shaders that have been built with a supported shader language (HLSL / GLSL) which will then be pre-processed into a common shader language / effect used by MonoGame.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>DebugMode</td>
<td>Depending on the setting, this will either leave the audio uncompressed (for speed) when debugging, or optimise for a production build. The default value is <strong>false</strong></td>
</tr>
<tr>
<td>Defines</td>
<td>Custom compiler defines to enable specific code paths (#if) in the shader file, if appropriate. The default value is <strong>empty</strong></td>
</tr>
</tbody>
</table>
<p>See the <a href="custom_effects.html">Effects</a> section for more detail on the built-in effects with MonoGame and how to generate your own custom effects.</p>
<h3 id="video">Video</h3>
<p><img src="images/mgcb_video_properties.png" alt="Image Properties"></p>
<p>MonoGame uses a custom video player which converts video files into a format that can be used and rendered by MonoGame using a series of VideoTextures.</p>
<p>There are no configurable properties for the Video Player currently.</p>
<h3 id="text-eg-xml">Text (e.g. XML)</h3>
<p><img src="images/mgcb_text_properties.png" alt="Image Properties"></p>
<p>One of the most powerful processors in MonoGame is the text processor, ideally used for XML files used to manage Game Class content in text files rather than writing it all in code.</p>
<p>So long as the XML file conforms to the MonoGame (XNA) standard, it will generate data within the game for use in the solution.</p>
<p>For an example on how to use XML in your MonoGame project, <a href="https://dzone.com/articles/getting-started-with-monogame-using-xml">check out this article</a>.</p>
<h2 id="custom-content-processors">Custom Content Processors</h2>
<p>Just like XNA, the MonoGame content pipeline supports custom content processors. To use them you need to rebuild them correctly to work against MonoGame.</p>
<p>The first step is removing all <code>Microsoft.Xna.Framework.XXX</code> references and replacing them with references to <code>MonoGame.Framework</code> and <code>MonoGame.Framework.Content.Pipeline</code>. This is required as you will no longer be building against Microsoft XNA.</p>
<p>Once your references are working, you then need to change your assembly target platform. MonoGame does not support x86 (aka 32bit) assemblies in the content pipeline. This is mainly to allow of processing really big content as well as to simplify the number of configurations and native code dependencies. For this reason, you should try to target “Any CPU” with your custom content assembly.</p>
<p>After you have done these fixes, you should be able to add these new processors to the content project “References”.</p>
<h2 id="building-content">Building Content</h2>
<p>The MGCB Editor has 3 actions related to building content: Build, Rebuild and Clean:</p>
<ul>
<li><strong>Build</strong> - This will build all content that needs to be built and put it in the output directory (bin by default). Content will be skipped if it has not changed since the last build. The time source content was last edited is saved in the intermediate directory (obj by default) to determine if content changed since the last build.</li>
<li><strong>Rebuild</strong> - Cleans the project first and then Builds it again.</li>
<li><strong>Clean</strong> - Cleaning the project will empty the output and intermediate directories.</li>
</ul>
<h2 id="linking-content-to-your-game">Linking Content To Your Game</h2>
<p>Once you have built your content, you have a few different ways to add it to your game project. They all have the same goal, to get the built XNB's in your project output folder so a <a class="xref" href="../../api/Microsoft.Xna.Framework.Content.ContentManager.html"><code>ContentManager</code></a> can easily find and load them.</p>
<h3 id="monogamecontentreference">MonoGameContentReference</h3>
<p>The simplest method is to set up your game project from one of the templates that come with the SDK. When you create a new project, it will include a Content.mgcb file with its Build Action set to <strong>MonoGameContentReference</strong> and a reference to <code>MonoGame.Content.Builder.Task</code> which processes <em>MonoGameContentReference</em> items.</p>
<p><img src="images/mgcb_content_reference.png" alt="MonoGame Content Reference"></p>
<blockquote>
<p>This build action is defined in the .targets file <a href="https://github.com/MonoGame/MonoGame/blob/develop/Tools/MonoGame.Content.Builder.Task/MonoGame.Content.Builder.Task.targets">here</a>.</p>
</blockquote>
<p>The <strong>MonoGameContentReference</strong> is set up so that when the project is built, the MGCB will automatically build any new/modified content and copy the resulting XNB's to the project output directory, so they can be used in the project. This way you do not even have to manually build the content with the MGCB Editor.</p>
<p>Just add your content to the .mgcb with the MGCB Editor and the rest will happen when you build your project. The content files do not need to be added to your project.</p>
<h3 id="manual-copy">Manual Copy</h3>
<p>If you do not want to use the automated process, you can build the content project with the MGCB Editor and copy the XNB's to the output folder of your project manually.</p>
<h3 id="add-as-content">Add As Content</h3>
<p>If you are using Visual Studio, you can bypass the content pipeline all together and simply the files to your C# game project directly (or as links). Create a folder in the project called Content then right-click on the folder and select Add &gt; Existing Item.</p>
<p><img src="images/existing_item.png" alt="Add existing item"></p>
<p>You will now see a file dialog from which you can add your content files.</p>
<blockquote>
<p>Note that if you do not want Visual Studio to make a local copy of the files. Make sure to use “<strong>Add As Link</strong>” when “Linking” files.</p>
<p><img src="images/add_as_link.png" alt="Add as link"></p>
</blockquote>
<p>Once the files are added you will need to select them all and change their properties in the properties window to:</p>
<ul>
<li>&quot;Build Action&quot; to <strong>Content</strong></li>
<li>&quot;Copy to Output Directory&quot; to <strong>Copy if newer</strong></li>
</ul>
<p><img src="images/copy_if_newer.png" alt="Copy if newer"></p>
<h3 id="add-with-wildcard">Add With Wildcard</h3>
<p>The more automatic option is to edit your game .csproj manually and have it include you content automatically using wildcards.</p>
<p>To do this just open the .csproj with any text editor, then add the following after any other <code>**&lt;ItemGroup&gt;**</code>:</p>
<pre><code class="lang-xml">&lt;ItemGroup&gt;
  &lt;Content Include=&quot;Content\**\*.xnb&quot;&gt;
    &lt;CopyToOutputDirectory&gt;PreserveNewest&lt;/CopyToOutputDirectory&gt;
  &lt;/Content&gt;
&lt;/ItemGroup&gt;
</code></pre>
<p>Then any files you put in a Content folder within your game project will automatically be included in the build.</p>
<h2 id="reporting-bugs">Reporting Bugs</h2>
<p>If you run into any problems with MGCB or the MGCB Editor, please ask for help on the <a href="http://community.monogame.net/">community site</a> or submit a <a href="https://github.com/MonoGame/MonoGame/issues">bug report on GitHub</a>.</p>
</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/MonoGame/monogame.github.io/blob/main/articles/content_pipeline/using_mgcb_editor.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>
        
      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


    <footer class="border-top">
      <div class="container-xxl">
        <div class="flex-fill">
          <p align='center'>Copyright © 2009-2023 MonoGame Foundation, Inc.</p>
        </div>
      </div>
    </footer>
  </body>
</html>